{"version":3,"sources":["models/works/reportcontent.tsx","../node_modules/dva-model-extend/lib/index.js","models/common.tsx","services/works.tsx","services/users.ts"],"names":["__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0_dva_model_extend___default","__WEBPACK_IMPORTED_MODULE_3__common__","namespace","state","currentItem","modalVisible","subscriptions","setup","_a","dispatch","history","listen","location","pathname","query","__WEBPACK_IMPORTED_MODULE_4_query_string___default","a","parse","search","target_type","type","payload","__assign","effects","_b","call","put","select","reportcontent","searchValue","_c","sent","__WEBPACK_IMPORTED_MODULE_2__services_users__","name","data","success","complaint","list","pagination","current","Number","current_page","pageSize","per_page","total","offShelf","__WEBPACK_IMPORTED_MODULE_1__services_works__","__WEBPACK_IMPORTED_MODULE_5_antd__","delComment","userId","Object","__WEBPACK_IMPORTED_MODULE_6__utils_utils__","user_id","reducers","updateState","defineProperty","exports","value","_assign2","_interopRequireDefault","__webpack_require__","_typeof3","obj","__esModule","default","stateCache","stateCount","subscriptionsCache","subscriptionsCount","effectsCache","effectsCount","reducersCache","reducersCount","_len","arguments","length","models","Array","_key","model","reduce","acc","extend","isArray","check","log","origin","cache","count","constitute","pageModel","showSizeChanger","showQuickJumper","showTotal","querySuccess","params","__WEBPACK_IMPORTED_MODULE_1__utils_request__","url","worksLists","method","passWorks","replace","id","commentList","delleteComment","api","__WEBPACK_IMPORTED_MODULE_0__utils_config__","userlists","freezeuserlist","users","freezeuser","freezeid","complaintList"],"mappings":"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","file":"static/js/8.d6c8aade.chunk.js","sourcesContent":["import modelExtend from 'dva-model-extend'\nimport { queryPassWorks, delComment } from '../../services/works'\nimport { queryComplaint } from '../../services/users'\nimport { pageModel } from '../common'\nimport queryString from 'query-string'\nimport { message } from 'antd'\nimport { getLocalStorage } from '../../utils/utils'\nimport { IWstate } from './interface'\n\nexport default modelExtend(pageModel, {\n  namespace: 'reportcontent',\n  state: {\n    currentItem: {},\n    modalVisible: false,\n  },\n  subscriptions: {\n    setup ({ dispatch, history }: any) {\n      history.listen((location: any) => {\n        if (location.pathname === '/works/reportcontent') {\n          const query = queryString.parse(location.search)\n          if (!query.target_type) {\n            query.target_type = 2\n          }\n          dispatch({\n            type: 'query',\n            payload: {\n              // status: 2,\n              ...query,\n            },\n          })\n        }\n      })\n    },\n  },\n  effects: {\n    * query ({ payload }: any, { call, put, select }: any) {\n      const query = queryString.parse(location.search)\n      if (!query.target_type) {\n        query.target_type = 2\n      }\n      const searchValue = yield select((state: any) => state.reportcontent.searchValue)\n      const data = yield call(queryComplaint, { ...payload, ...query, name: searchValue })\n      if (data.success) {\n        const { complaint } = data.data\n        yield put({\n          type: 'querySuccess',\n          payload: {\n            list: complaint.data,\n            pagination: {\n              current: Number(payload.current_page) || 1,\n              pageSize: Number(payload.per_page) || 10,\n              total: complaint.total,\n            },\n          },\n        })\n      } else {\n        throw data\n      }\n    },\n    * offShelf ({ payload }: any, { call, put }: any) {\n      const data = yield call(queryPassWorks, payload)\n      if (data.success) {\n        if (data.success) {\n          message.success('下架成功')\n          yield put({\n            type: 'query',\n            payload: {\n            },\n          })\n        }\n      } else {\n        throw data\n      }\n    },\n    * delComment ({ payload }: any, { call, put }: any) {\n      const userId = getLocalStorage('user_id')\n      const data = yield call(delComment, payload, { user_id: userId })\n      if (data.success) {\n        message.success('删除成功')\n        yield put({\n          type: 'query',\n          payload: {\n          },\n        })\n      } else {\n        throw data\n      }\n    },\n  },\n  reducers: {\n    updateState (state: IWstate, { payload }: any) {\n      return {\n        ...state,\n        ...payload,\n      }\n    },\n  },\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/works/reportcontent.tsx","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _assign = require('babel-runtime/core-js/object/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _typeof2 = require('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nexports.default = modelExtend;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar check = function check(origin, cache, count) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var key in origin) {\n      if (cache.indexOf(key) === -1) {\n        cache.push(key);\n      } else {\n        count[key] ? count[key]++ : count[key] = 1;\n      }\n    }\n  }\n};\n\nvar log = function log(model, constitute, count) {\n  if (process.env.NODE_ENV !== 'production') {\n    var logCount = 0;\n    for (var key in count) {\n      if (!logCount) {\n        console.warn('Please note that some of the attributes are inherited in the ' + model.namespace + ' / ' + constitute + ':');\n      }\n      logCount++;\n      console.warn('  -> ' + key + ' be overwritten ' + count[key] + ' time(s).');\n    }\n  }\n};\n\nfunction modelExtend() {\n  var base = { state: {}, subscriptions: {}, effects: {}, reducers: {} };\n  var stateCache = [];\n  var stateCount = {};\n  var subscriptionsCache = [];\n  var subscriptionsCount = {};\n  var effectsCache = [];\n  var effectsCount = {};\n  var reducersCache = [];\n  var reducersCount = {};\n\n  for (var _len = arguments.length, models = Array(_len), _key = 0; _key < _len; _key++) {\n    models[_key] = arguments[_key];\n  }\n\n  var model = models.reduce(function (acc, extend) {\n    acc.namespace = extend.namespace;\n    if ((0, _typeof3.default)(extend.state) === 'object' && !Array.isArray(extend.state)) {\n      check(extend.state, stateCache, stateCount);\n      (0, _assign2.default)(acc.state, extend.state);\n    } else if ('state' in extend) {\n      acc.state = extend.state;\n    }\n    check(extend.subscriptions, subscriptionsCache, subscriptionsCount);\n    (0, _assign2.default)(acc.subscriptions, extend.subscriptions);\n    check(extend.effects, effectsCache, effectsCount);\n    (0, _assign2.default)(acc.effects, extend.effects);\n    check(extend.reducers, reducersCache, reducersCount);\n    (0, _assign2.default)(acc.reducers, extend.reducers);\n    return acc;\n  }, base);\n\n  log(model, 'state', stateCount);\n  log(model, 'subscriptions', subscriptionsCount);\n  log(model, 'effects', effectsCount);\n  log(model, 'reducers', reducersCount);\n  return model;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/dva-model-extend/lib/index.js\n// module id = 1263\n// module chunks = 2 8 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29","import modelExtend from 'dva-model-extend'\n\nexport const model = {\n  reducers: {\n    updateState (state: any, { payload }: any) {\n      return {\n        ...state,\n        ...payload,\n      }\n    },\n  },\n}\n\nexport const pageModel = modelExtend(model, {\n\n  state: {\n    list: [],\n    pagination: {\n      showSizeChanger: true,\n      showQuickJumper: true,\n      showTotal: (total: string) => `共 ${total} 条数据`,\n      current: 1,\n      total: 0,\n      pageSize: 10,\n    },\n    searchValue: '',\n  },\n\n  reducers: {\n    querySuccess (state: any, { payload }: any) {\n      const { list, pagination } = payload\n      return {\n        ...state,\n        list,\n        pagination: {\n          ...state.pagination,\n          ...pagination,\n        },\n      }\n    },\n  },\n\n})\n\n\n// export default {\n//   model,\n//   pageModel,\n// }\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/common.tsx","// import { getLocalStorage } from '../utils/utils'\nimport config from '../utils/config'\nimport request from '../utils/request'\nconst { api } = config\n\nconst {\n  worksLists, commentList, passWorks, delleteComment,\n} = api\n\nexport function queryWorksLists (params: any) {\n  return request({\n    url: worksLists,\n    method: 'get',\n    data: params,\n  })\n}\nexport function queryPassWorks (params: any) {\n  return request({\n    url: passWorks.replace(':id', params.id),\n    method: 'put',\n    data: params,\n  })\n}\nexport function queryCommentList (params: any) {\n  return request({\n    url: commentList,\n    method: 'get',\n    data: params,\n  })\n}\nexport function delComment (params: any, userId: any) {\n  return request({\n    url: delleteComment.replace(':id', userId.user_id),\n    method: 'delete',\n    data: params,\n  })\n}\n// export function queryComplaint (params) {\n//   return request({\n//     url: complaintList,\n//     method: 'get',\n//     data: params,\n//   })\n// }\n// export function remove (params) {\n//   return request({\n//     url: users,\n//     method: 'delete',\n//     data: params,\n//   })\n// }\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/works.tsx","import config from '../utils/config'\nimport request from '../utils/request'\n\nconst { api } = config\nconst {\n  userlists, complaintList, freezeuserlist, freezeuser,\n} = api\n\nexport function queryUserLists (params: any) {\n  return request({\n    url: userlists,\n    method: 'get',\n    data: params,\n  })\n}\nexport function queryFreezeUser (params: any) {\n  return request({\n    url: freezeuserlist,\n    method: 'get',\n    data: params,\n  })\n}\nexport function freezeUser (params: any, users: any) {\n  const url = freezeuser.replace(':uid', users.user_id)\n  return request({\n    url: url.replace(':freezeid', params.freezeid),\n    method: 'put',\n    data: params,\n  })\n}\n\nexport function queryComplaint (params: any) {\n  return request({\n    url: complaintList,\n    method: 'get',\n    data: params,\n  })\n}\n// export function remove (params) {\n//   return request({\n//     url: users,\n//     method: 'delete',\n//     data: params,\n//   })\n// }\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/users.ts"],"sourceRoot":""}