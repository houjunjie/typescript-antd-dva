{"version":3,"sources":["routes/works/dropworks.tsx","routes/works/works.less","webpack:///./src/routes/works/works.less?fa5d"],"names":["Search","__WEBPACK_IMPORTED_MODULE_3_antd__","reasonType","__WEBPACK_IMPORTED_MODULE_5__utils_config__","RropWorks","_super","_this","apply","this","arguments","handleSearch","val","props","dispatch","type","payload","searchValue","__extends","prototype","render","_a","dropworks","loading","location","list","pagination","query","pathname","listProps","dataSource","columns","title","dataIndex","text","record","index","__WEBPACK_IMPORTED_MODULE_0_react___default","a","createElement","className","__WEBPACK_IMPORTED_MODULE_6__works_less___default","avatar","src","alt","item","name","sorter","b","Date","created_at","getTime","updated_at","effects","onChange","page","__WEBPACK_IMPORTED_MODULE_2_dva_router__","push","search","__WEBPACK_IMPORTED_MODULE_4_query_string___default","stringify","__assign","current_page","current","per_page","pageSize","__WEBPACK_IMPORTED_MODULE_0_react__","align","span","style","marginBottom","textRight","width","placeholder","onSearch","enterButton","bordered","rowKey","id","PureComponent","__webpack_exports__","Object","__WEBPACK_IMPORTED_MODULE_1_dva__","content","__webpack_require__","module","i","options","hmr","transform","locals","exports","undefined","mr10"],"mappings":"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","file":"static/js/31.c2412fe8.chunk.js","sourcesContent":["import React, { Fragment } from 'react'\n// import PropTypes from 'prop-types'\nimport { connect } from 'dva'\nimport { routerRedux } from 'dva/router'\nimport { Row, Col, Input, Table } from 'antd'\nimport queryString from 'query-string'\nimport config from '../../utils/config'\n\nimport style from './works.less'\n\n// import style from './songlists.less'\nconst { Search } = Input\nconst { reasonType } = config\ninterface Iprops {\n  dropworks: any,\n  loading: any,\n  dispatch: any,\n  location: any,\n}\n\nclass RropWorks extends React.PureComponent<Iprops> {\n  public handleSearch = (val: string) => {\n    this.props.dispatch({\n      type: 'dropworks/updateState',\n      payload: {\n        searchValue: val,\n      },\n    })\n    this.props.dispatch({\n      type: 'dropworks/query',\n      payload: {},\n    })\n  }\n  public render () {\n    const {\n      dropworks, dispatch, loading, location,\n    } = this.props\n    const {\n      list, pagination,\n    } = dropworks\n    const { query, pathname } = location\n    const columns = [\n      {\n        title: '序号',\n        dataIndex: '',\n        render (text: string, record: any, index: number) {\n          // TODO\n          return index + 1\n        },\n      },\n      {\n        title: '视频',\n        dataIndex: 'file',\n        render: (val: string) => <span className={style.avatar}><img src={val} alt=\"用户头像\" /></span>,\n      },\n      {\n        title: '配文',\n        dataIndex: 'description',\n      },\n      {\n        title: '用户',\n        dataIndex: 'user',\n        render: (item: any) => <span>{item.name}</span>,\n      },\n      {\n        title: '发布时间',\n        dataIndex: 'created_at',\n        sorter: (a: any, b: any) => {\n          return new Date(a.created_at).getTime() - new Date(b.created_at).getTime()\n        },\n      },\n      {\n        title: '下架时间',\n        dataIndex: 'updated_at',\n        sorter: (a: any, b: any) => {\n          return new Date(a.updated_at).getTime() - new Date(b.updated_at).getTime()\n        },\n      },\n      {\n        title: '操作人',\n        dataIndex: 'user_id',\n      },\n      {\n        title: '原因',\n        dataIndex: 'reason_type',\n        render: (item: number) => <span>{reasonType[item + 1]}</span>,\n      },\n      {\n        title: '备注',\n        dataIndex: 'remark',\n      },\n    ]\n    const listProps = {\n      pagination,\n      dataSource: list,\n      columns,\n      loading: loading.effects['notpass/query'],\n      onChange (page: any) {\n        dispatch(routerRedux.push({\n          pathname,\n          search: queryString.stringify({\n            ...query,\n            current_page: page.current,\n            per_page: page.pageSize,\n          }),\n        }))\n      },\n    }\n    return (\n      <Fragment>\n        <Row className=\"margin-bottom\" type=\"flex\" align=\"middle\">\n          <Col span={6}>\n            <h3 style={{ marginBottom: 0 }}>下架的作品</h3>\n          </Col>\n          <Col span={18} className={style.textRight}>\n            <Search style={{ width: 300 }} placeholder=\"请输入要搜索的作品名称\" onSearch={this.handleSearch} enterButton={true} />\n          </Col>\n        </Row>\n        <Table\n          {...listProps}\n          bordered={true}\n          // scroll={{ x: 1200 }}\n          // columns={columns}\n          rowKey={record => record.id}\n        />\n      </Fragment>\n    )\n  }\n}\nexport default connect(({\n  dropworks, loading, dispatch,\n}: Iprops) => ({\n  dropworks, loading, dispatch,\n}))(RropWorks)\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/works/dropworks.tsx","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/typings-for-css-modules-loader/lib/index.js??ref--1-oneOf-4-1!../../../node_modules/postcss-loader/lib/index.js??postcss!../../../node_modules/less-loader/dist/cjs.js!./works.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":true}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/typings-for-css-modules-loader/lib/index.js??ref--1-oneOf-4-1!../../../node_modules/postcss-loader/lib/index.js??postcss!../../../node_modules/less-loader/dist/cjs.js!./works.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/typings-for-css-modules-loader/lib/index.js??ref--1-oneOf-4-1!../../../node_modules/postcss-loader/lib/index.js??postcss!../../../node_modules/less-loader/dist/cjs.js!./works.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/routes/works/works.less\n// module id = 1266\n// module chunks = 9 10 11 30 31 32","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \".textRight_2G87a{text-align:right}.avatar_2V6Bf{display:block;margin:0 auto;width:80px;height:80px;border-radius:50%;overflow:hidden}.avatar_2V6Bf img{width:100%}.mr10_3sCER{margin-right:10px}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"textRight\": \"textRight_2G87a\",\n\t\"avatar\": \"avatar_2V6Bf\",\n\t\"mr10\": \"mr10_3sCER\"\n};\n\n\n// WEBPACK FOOTER //\n// ./node_modules/typings-for-css-modules-loader/lib?{\"modules\":true,\"namedExport\":true,\"camelCase\":true,\"minimize\":true,\"localIdentName\":\"[local]_[hash:base64:5]\"}!./node_modules/postcss-loader/lib?{\"ident\":\"postcss\",\"plugins\":[null,null]}!./node_modules/less-loader/dist/cjs.js!./src/routes/works/works.less"],"sourceRoot":""}