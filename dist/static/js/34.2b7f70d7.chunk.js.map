{"version":3,"sources":["routes/feedback/index.tsx","routes/feedback/index.less","webpack:///./src/routes/feedback/index.less?2fd6"],"names":["Feedback","_super","_this","apply","this","arguments","state","previewVisible","previewImage","handlePreview","visible","url","setState","__extends","prototype","render","_a","_b","props","feedback","loading","dispatch","list","listProps","pagination","dataSource","columns","title","key","text","record","index","__WEBPACK_IMPORTED_MODULE_0_react___default","a","createElement","onClick","feedback_has_one_user","avatar","alt","style","cursor","width","src","name","dataIndex","sorter","b","Date","created_at","getTime","effects","onChange","page","type","payload","current_page","current","per_page","pageSize","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_2_antd__","className","align","span","marginBottom","__assign","bordered","footer","onCancel","PureComponent","__webpack_exports__","Object","__WEBPACK_IMPORTED_MODULE_1_dva__","content","__webpack_require__","module","i","options","hmr","transform","locals","exports","undefined","push"],"mappings":"6oBAgBAA,EAAA,SAAAC,GAAA,SAAAD,IAAA,IAAAE,EAAA,OAAAD,KAAAE,MAAAC,KAAAC,YAAAD,YACSF,EAAAI,OACLC,gBAAgB,EAChBC,aAAc,IAETN,EAAAO,cAAgB,SAACC,EAAkBC,QAAA,IAAAA,MAAA,IACxCT,EAAKU,UACHL,eAAgBG,EAChBF,aAAcG,OAkGpB,OA1GuBE,EAAAb,EAAAC,GAWdD,EAAAc,UAAAC,OAAP,eAAAb,EAAAE,KAEQY,EAAAZ,KAAAE,MACJC,EAAAS,EAAAT,eACAC,EAAAQ,EAAAR,aAEIS,EAAAb,KAAAc,MACJC,EAAAF,EAAAE,SACAC,EAAAH,EAAAG,QACAC,EAAAJ,EAAAI,SAGAC,EAAAH,EAAAG,KAiCIC,GACJC,WAlCML,EAAAK,WAmCNC,WAAYH,EACZI,UAhCEC,MAAO,eACPC,IAAK,IACLb,OAAQ,SAACc,EAAWC,EAAaC,GAAkB,OAAAC,EAAAC,EAAAC,cAAA,YAAOH,EAAQ,MAGlEJ,MAAO,2BACPC,IAAK,IAELb,OAAQ,SAACc,EAAWC,GAAgB,OAAAE,EAAAC,EAAAC,cAAA,OAAKC,QAAS,WAAM,OAAAjC,EAAKO,eAAc,EAAMqB,EAAOM,sBAAsBC,UAASL,EAAAC,EAAAC,cAAA,OAAKI,IAAI,eAAKC,OAASC,OAAQ,WAAaC,MAAO,GAAIC,IAAKZ,EAAOM,sBAAsBC,aAGhNV,MAAO,2BACPC,IAAK,IACLb,OAAQ,SAACc,EAAWC,GAAgB,OAAAE,EAAAC,EAAAC,cAAA,YAAOJ,EAAOM,sBAAsBO,SAGxEhB,MAAO,2BACPC,IAAK,IACLgB,UAAW,YAGXjB,MAAO,2BACPC,IAAK,IACLgB,UAAW,aACXC,OAAQ,SAACZ,EAAQa,GACf,OAAO,IAAIC,KAAKd,EAAEe,YAAYC,UAAY,IAAIF,KAAKD,EAAEE,YAAYC,aAQrE7B,QAASA,EAAQ8B,QAAQ,kBACzBC,SAAQ,SAAEC,GACR/B,GACEgC,KAAM,qBACNC,SACEC,aAAcH,EAAKI,QACnBC,SAAUL,EAAKM,cAavB,OACE1B,EAAAC,EAAAC,cAACyB,EAAA,SAAQ,KACP3B,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC0B,EAAA,GAAIC,UAAU,gBAAgBR,KAAK,OAAOS,MAAM,UAC/C9B,EAAAC,EAAAC,cAAC0B,EAAA,GAAIG,KAAM,GACT/B,EAAAC,EAAAC,cAAA,MAAIK,OAASyB,aAAc,IAAG,iBAEhChC,EAAAC,EAAAC,cAAC0B,EAAA,GAAIG,KAAM,GAAIF,UAAU,eAK3B7B,EAAAC,EAAAC,cAAC0B,EAAA,EAAKK,KACA1C,GACJ2C,UAAU,MAOdlC,EAAAC,EAAAC,cAAC0B,EAAA,GAAMlD,QAASH,EAAgB4D,OAAQ,KAAMC,SAAU,WAAM,OAAAlE,EAAKO,eAAc,KAC/EuB,EAAAC,EAAAC,cAAA,OAAKI,IAAI,UAAUC,OAASE,MAAO,QAAUC,IAAKlC,OAK5DR,EA1GA,CAAuBgC,EAAAC,EAAMoC,eAiH7BC,EAAA,QAAeC,OAAAC,EAAA,QAAAD,CAAQ,SAACvD,GAAkC,OAAGG,SAAnCH,EAAAG,SAA6CC,QAAnCJ,EAAAI,UAApC,CAAmFpB,yBC9HnF,IAAAyE,EAAAC,EAAA,MACA,kBAAAD,QAAAE,EAAAC,EAAAH,EAAA,MAIA,IAAAI,GAAeC,KAAA,EACfC,eAHAA,GAKAL,EAAA,GAAAA,CAAAD,EAAAI,GACAJ,EAAAO,SAAAL,EAAAM,QAAAR,EAAAO,+BCZAL,EAAAM,QAAAP,EAAA,GAAAA,MAAAQ,IAKAC,MAAAR,EAAAC,EAAA","file":"static/js/34.2b7f70d7.chunk.js","sourcesContent":["import React, { Fragment } from 'react'\n// import PropTypes from 'prop-types'\nimport { connect } from 'dva'\nimport { Row, Col, Table, Modal } from 'antd'\nimport './index.less'\n\n// const { Search } = Input\ninterface Iprops {\n  feedback: any,\n  loading: any,\n  dispatch: any,\n}\ninterface Istate {\n  previewVisible: boolean,\n  previewImage: string,\n}\nclass Feedback extends React.PureComponent<Iprops, Istate> {\n  public state = {\n    previewVisible: false,\n    previewImage: '',\n  }\n  public handlePreview = (visible: boolean, url: string = '') => {\n    this.setState({\n      previewVisible: visible,\n      previewImage: url,\n    })\n  }\n  public render () {\n    // console.log(this.props.feedback)\n    const {\n      previewVisible,\n      previewImage,\n    } = this.state\n    const {\n      feedback,\n      loading,\n      dispatch,\n    } = this.props\n    const {\n      list, pagination,\n    } = feedback\n    const columns = [\n      {\n        title: '序号',\n        key: '1',\n        render: (text: any, record: any, index: number) => <span>{index + 1}</span>,\n      },\n      {\n        title: '用户头像',\n        key: '2',\n        // dataIndex: 'photo',\n        render: (text: any, record: any) => <div onClick={() => this.handlePreview(true, record.feedback_has_one_user.avatar)}><img alt=\"图片\" style={{ cursor: 'pointer' }} width={30} src={record.feedback_has_one_user.avatar} /></div>,\n      },\n      {\n        title: '用户昵称',\n        key: '3',\n        render: (text: any, record: any) => <span>{record.feedback_has_one_user.name}</span>,\n      },\n      {\n        title: '反馈内容',\n        key: '4',\n        dataIndex: 'content',\n      },\n      {\n        title: '反馈时间',\n        key: '5',\n        dataIndex: 'created_at',\n        sorter: (a: any, b: any) => {\n          return new Date(a.created_at).getTime() - new Date(b.created_at).getTime()\n        },\n      },\n    ]\n    const listProps = {\n      pagination,\n      dataSource: list,\n      columns,\n      loading: loading.effects['feedback/query'],\n      onChange (page: any) {\n        dispatch({\n          type: 'signupdetail/query',\n          payload: {\n            current_page: page.current,\n            per_page: page.pageSize,\n          },\n        })\n        // dispatch(routerRedux.push({\n        //   pathname,\n        //   search: queryString.stringify({\n        //     ...query,\n        //     current_page: page.current,\n        //     per_page: page.pageSize,\n        //   }),\n        // }))\n      },\n    }\n    return (\n      <Fragment>\n        <div>\n          <Row className=\"margin-bottom\" type=\"flex\" align=\"middle\">\n            <Col span={6}>\n              <h3 style={{ marginBottom: 0 }}>反馈</h3>\n            </Col>\n            <Col span={18} className=\"textRight\">\n              {/* <Button onClick={this.handleExport} style={{ marginRight: 10 }} loading={loading.effects['signupdetail/exportExcel']} type=\"primary\">导出</Button> */}\n              {/* <Search style={{ width: 300 }} placeholder=\"请输入要搜索的姓名或电话\" onSearch={this.handleSearch} enterButton /> */}\n            </Col>\n          </Row>\n          <Table\n            {...listProps}\n            bordered={true}\n            // scroll={{ x: 1200 }}\n            // columns={columns}\n            // simple\n            // rowKey={record => record.id}\n          />\n        </div>\n        <Modal visible={previewVisible} footer={null} onCancel={() => this.handlePreview(false)}>\n          <img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\n        </Modal>\n      </Fragment>\n    )\n  }\n}\n\n// Feedback.propTypes = {\n//   feedback: PropTypes.object,\n//   dispatch: PropTypes.func,\n//   loading: PropTypes.object,\n// }\nexport default connect(({ feedback, loading }: Iprops) => ({ feedback, loading }))(Feedback)\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/feedback/index.tsx","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/typings-for-css-modules-loader/lib/index.js??ref--1-oneOf-4-1!../../../node_modules/postcss-loader/lib/index.js??postcss!../../../node_modules/less-loader/dist/cjs.js!./index.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":true}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/typings-for-css-modules-loader/lib/index.js??ref--1-oneOf-4-1!../../../node_modules/postcss-loader/lib/index.js??postcss!../../../node_modules/less-loader/dist/cjs.js!./index.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/typings-for-css-modules-loader/lib/index.js??ref--1-oneOf-4-1!../../../node_modules/postcss-loader/lib/index.js??postcss!../../../node_modules/less-loader/dist/cjs.js!./index.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/routes/feedback/index.less\n// module id = 1318\n// module chunks = 34","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/typings-for-css-modules-loader/lib?{\"modules\":true,\"namedExport\":true,\"camelCase\":true,\"minimize\":true,\"localIdentName\":\"[local]_[hash:base64:5]\"}!./node_modules/postcss-loader/lib?{\"ident\":\"postcss\"}!./node_modules/less-loader/dist/cjs.js!./src/routes/feedback/index.less"],"sourceRoot":""}